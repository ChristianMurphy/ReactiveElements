!function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){e.exports=r(2)},function(e,t){e.exports=react},function(e,t,r){!function(){function e(e,t){t.forceUpdate=e.forceUpdate.bind(e)}function n(e,t){i.extend(t,e)}var o=document.registerElement||document.register;if(!o)throw new Error("No custom element support or polyfill found!");o=o.bind(document);var a=window.React||r(1),c=window.ReactDOM||r(4),i=r(3);t.registerReact=function(t,r){function p(e,t){var n=a.createElement(r,t);return e.reactiveElement=n,c.render(n,e,t.onRender)}var u,s=Object.create(HTMLElement.prototype);s.createdCallback=function(){var t=i.getProps(this);t.children=i.getChildren(this),u=p(this,t),n(u,u.props.container),e(u,u.props.container),i.getterSetter(this,"props",function(){return u.props},function(e){u=p(this,e)})},s.detachedCallback=function(){c.unmountComponentAtNode(this)},s.attributeChangedCallback=function(e,t,r){var n=i.attributeNameToPropertyName(e),o=i.parseAttributeValue(r),a=i.shallowCopy({},this.props);a[n]=o,u=p(this,a)},o(t,{prototype:s})},t.utils=i,document.registerReact=t.registerReact}()},function(module,exports,__webpack_require__){var React=window.React||__webpack_require__(1),getAllProperties=function(e){for(var t={};e&&e!==React.Component.prototype&&e!==Object.prototype;){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++)t[r[n]]=null;e=Object.getPrototypeOf(e)}return delete t.constructor,Object.keys(t)};exports.extend=function(e,t){for(var r=getAllProperties(t),n=0;n<r.length;n++){var o=r[n];if(!(o in e)){var a=t[o];e[o]=a}}},exports.getProps=function(e){for(var t={},r=0;r<e.attributes.length;r++){var n=e.attributes[r],o=exports.attributeNameToPropertyName(n.name);t[o]=exports.parseAttributeValue(n.value)}return t.container=e,t},exports.getterSetter=function(e,t,r,n){Object.defineProperty?Object.defineProperty(e,t,{get:r,set:n}):document.__defineGetter__&&(e.__defineGetter__(t,r),e.__defineSetter__(t,n)),e["get"+t]=r,e["set"+t]=n},exports.attributeNameToPropertyName=function(e){return e.replace(/^(x|data)[-_:]/i,"").replace(/[-_:](.)/g,function(e,t){return t.toUpperCase()})},exports.parseAttributeValue=function(value){if(!value)return null;value=value.replace(/[\n\r]/g,"");var pointerRegexp=/^{.*?}$/i,jsonRegexp=/^{{2}.*}{2}$/,jsonArrayRegexp=/^{\[.*\]}$/,pointerMatches=value.match(pointerRegexp),jsonMatches=value.match(jsonRegexp)||value.match(jsonArrayRegexp);return jsonMatches?value=JSON.parse(jsonMatches[0].replace(/^{|}$/g,"")):pointerMatches&&(value=eval(pointerMatches[0].replace(/[{}]/g,""))),value},exports.getChildren=function(e){for(var t=document.createDocumentFragment();e.childNodes.length;)t.appendChild(e.childNodes[0]);return t},exports.shallowCopy=function(e,t){for(var r in t)e[r]=t[r];return e}},function(e,t){e.exports=react-dom}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVhY3RpdmUtZWxlbWVudHMubWluLmpzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCA0N2E0MWVlNzIwYTQ0MjcwMjRmNyIsIndlYnBhY2s6Ly8vLi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJyZWFjdFwiIiwid2VicGFjazovLy8uL3NyYy9yZWFjdGl2ZS1lbGVtZW50cy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwicmVhY3QtZG9tXCIiXSwibmFtZXMiOlsibW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImluc3RhbGxlZE1vZHVsZXMiLCJleHBvcnRzIiwibW9kdWxlIiwiaWQiLCJsb2FkZWQiLCJjYWxsIiwibSIsImMiLCJwIiwicmVhY3QiLCJleHBvc2VEZWZhdWx0TWV0aG9kcyIsInJlYWN0Q29tcG9uZW50IiwiY3VzdG9tRWxlbWVudCIsImZvcmNlVXBkYXRlIiwiYmluZCIsImV4cG9zZU1ldGhvZHMiLCJ1dGlscyIsImV4dGVuZCIsInJlZ2lzdGVyRWxlbWVudCIsImRvY3VtZW50IiwicmVnaXN0ZXIiLCJFcnJvciIsIlJlYWN0Iiwid2luZG93IiwiUmVhY3RET00iLCJyZWdpc3RlclJlYWN0IiwiZWxlbWVudE5hbWUiLCJSZWFjdENvbXBvbmVudCIsImNyZWF0ZSIsInBhcmVudCIsInByb3BzIiwiZWxlbWVudCIsImNyZWF0ZUVsZW1lbnQiLCJyZWFjdGl2ZUVsZW1lbnQiLCJyZW5kZXIiLCJvblJlbmRlciIsInJlYWN0RWxlbWVudCIsImVsZW1lbnRQcm90b3R5cGUiLCJPYmplY3QiLCJIVE1MRWxlbWVudCIsInByb3RvdHlwZSIsImNyZWF0ZWRDYWxsYmFjayIsImdldFByb3BzIiwidGhpcyIsImNoaWxkcmVuIiwiZ2V0Q2hpbGRyZW4iLCJjb250YWluZXIiLCJnZXR0ZXJTZXR0ZXIiLCJkZXRhY2hlZENhbGxiYWNrIiwidW5tb3VudENvbXBvbmVudEF0Tm9kZSIsImF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayIsIm5hbWUiLCJvbGRWYWx1ZSIsIm5ld1ZhbHVlIiwicHJvcGVydHlOYW1lIiwiYXR0cmlidXRlTmFtZVRvUHJvcGVydHlOYW1lIiwidmFsdWUiLCJwYXJzZUF0dHJpYnV0ZVZhbHVlIiwic2hhbGxvd0NvcHkiLCJnZXRBbGxQcm9wZXJ0aWVzIiwib2JqIiwiQ29tcG9uZW50IiwicHJvcE5hbWVzIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImkiLCJsZW5ndGgiLCJnZXRQcm90b3R5cGVPZiIsImNvbnN0cnVjdG9yIiwia2V5cyIsImV4dGVuc2libGUiLCJleHRlbmRpbmciLCJwcm9wIiwidmFsIiwiZWwiLCJhdHRyaWJ1dGVzIiwiYXR0cmlidXRlIiwidmFyaWFibGVQYXJlbnQiLCJ2YXJpYWJsZU5hbWUiLCJnZXR0ZXJGdW5jdGlvbiIsInNldHRlckZ1bmN0aW9uIiwiZGVmaW5lUHJvcGVydHkiLCJnZXQiLCJzZXQiLCJfX2RlZmluZUdldHRlcl9fIiwiX19kZWZpbmVTZXR0ZXJfXyIsImF0dHJpYnV0ZU5hbWUiLCJyZXBsYWNlIiwieCIsImNociIsInRvVXBwZXJDYXNlIiwicG9pbnRlclJlZ2V4cCIsImpzb25SZWdleHAiLCJqc29uQXJyYXlSZWdleHAiLCJwb2ludGVyTWF0Y2hlcyIsIm1hdGNoIiwianNvbk1hdGNoZXMiLCJKU09OIiwicGFyc2UiLCJldmFsIiwiZnJhZ21lbnQiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiY2hpbGROb2RlcyIsImFwcGVuZENoaWxkIiwiYSIsImIiLCJrZXkiLCJkb20iXSwibWFwcGluZ3MiOiJDQUFTLFNBQVVBLEdDSW5CLFFBQUFDLEdBQUFDLEdBR0EsR0FBQUMsRUFBQUQsR0FDQSxNQUFBQyxHQUFBRCxHQUFBRSxPQUdBLElBQUFDLEdBQUFGLEVBQUFELElBQ0FFLFdBQ0FFLEdBQUFKLEVBQ0FLLFFBQUEsRUFVQSxPQU5BUCxHQUFBRSxHQUFBTSxLQUFB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RCxZQUFBLFNBQUE2QyxFQUFBQyxHQUNBLE9BQUFDLEtBQUFELEdBQUFELEVBQUFFLEdBQUFELEVBQUFDLEVBQ0EsT0FBQUYsS0x5SU0sU0FBU3JHLEVBQVFELEdNM092QkMsRUFBQUQsUUFBQVEsTUFBQWlHIiwiZmlsZSI6InJlYWN0aXZlLWVsZW1lbnRzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9LFxuLyoqKioqKi8gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bG9hZGVkOiBmYWxzZVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG5cbi8qKiovIH0sXG4vKiAxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHJlYWN0O1xuXG4vKioqLyB9LFxuLyogMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0KGZ1bmN0aW9uKCkge1xuXHQgICAgdmFyIHJlZ2lzdGVyRWxlbWVudCA9IGRvY3VtZW50LnJlZ2lzdGVyRWxlbWVudCB8fCBkb2N1bWVudC5yZWdpc3Rlcjtcblx0XG5cdCAgICBpZiAocmVnaXN0ZXJFbGVtZW50KSB7XG5cdCAgICAgICAgcmVnaXN0ZXJFbGVtZW50ID0gcmVnaXN0ZXJFbGVtZW50LmJpbmQoZG9jdW1lbnQpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGN1c3RvbSBlbGVtZW50IHN1cHBvcnQgb3IgcG9seWZpbGwgZm91bmQhJyk7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBSZWFjdCA9IHdpbmRvdy5SZWFjdCB8fCBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHQgICAgdmFyIFJlYWN0RE9NID0gd2luZG93LlJlYWN0RE9NIHx8IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdCAgICB2YXIgdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0ICAgIGV4cG9ydHMucmVnaXN0ZXJSZWFjdCA9IGZ1bmN0aW9uIChlbGVtZW50TmFtZSwgUmVhY3RDb21wb25lbnQpIHtcblx0ICAgICAgICB2YXIgZWxlbWVudFByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoSFRNTEVsZW1lbnQucHJvdG90eXBlKTtcblx0ICAgICAgICB2YXIgcmVhY3RFbGVtZW50O1xuXHRcblx0ICAgICAgICBmdW5jdGlvbiBjcmVhdGUocGFyZW50LCBwcm9wcykge1xuXHQgICAgICAgICAgICB2YXIgZWxlbWVudCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3RDb21wb25lbnQsIHByb3BzKTtcblx0ICAgICAgICAgICAgcGFyZW50LnJlYWN0aXZlRWxlbWVudCA9IGVsZW1lbnQ7XG5cdCAgICAgICAgICAgIHJldHVybiBSZWFjdERPTS5yZW5kZXIoZWxlbWVudCwgcGFyZW50LCBwcm9wcy5vblJlbmRlcik7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBlbGVtZW50UHJvdG90eXBlLmNyZWF0ZWRDYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgdmFyIHByb3BzID0gdXRpbHMuZ2V0UHJvcHModGhpcyk7XG5cdCAgICAgICAgICAgIHByb3BzLmNoaWxkcmVuID0gdXRpbHMuZ2V0Q2hpbGRyZW4odGhpcyk7XG5cdCAgICAgICAgICAgIHJlYWN0RWxlbWVudCA9IGNyZWF0ZSh0aGlzLCBwcm9wcyk7XG5cdCAgICAgICAgICAgIGV4cG9zZU1ldGhvZHMocmVhY3RFbGVtZW50LCByZWFjdEVsZW1lbnQucHJvcHMuY29udGFpbmVyKTtcblx0ICAgICAgICAgICAgZXhwb3NlRGVmYXVsdE1ldGhvZHMocmVhY3RFbGVtZW50LCByZWFjdEVsZW1lbnQucHJvcHMuY29udGFpbmVyKTtcblx0XG5cdCAgICAgICAgICAgIHV0aWxzLmdldHRlclNldHRlcih0aGlzLCAncHJvcHMnLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gcmVhY3RFbGVtZW50LnByb3BzO1xuXHQgICAgICAgICAgICB9LCBmdW5jdGlvbiAocHJvcHMpIHtcblx0ICAgICAgICAgICAgICAgIHJlYWN0RWxlbWVudCA9IGNyZWF0ZSh0aGlzLCBwcm9wcyk7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIGVsZW1lbnRQcm90b3R5cGUuZGV0YWNoZWRDYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgUmVhY3RET00udW5tb3VudENvbXBvbmVudEF0Tm9kZSh0aGlzKTtcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICBlbGVtZW50UHJvdG90eXBlLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayA9IGZ1bmN0aW9uIChuYW1lLCBvbGRWYWx1ZSwgbmV3VmFsdWUpIHtcblx0ICAgICAgICAgICAgdmFyIHByb3BlcnR5TmFtZSA9IHV0aWxzLmF0dHJpYnV0ZU5hbWVUb1Byb3BlcnR5TmFtZShuYW1lKSxcblx0ICAgICAgICAgICAgICAgIHZhbHVlID0gdXRpbHMucGFyc2VBdHRyaWJ1dGVWYWx1ZShuZXdWYWx1ZSk7XG5cdFxuXHQgICAgICAgICAgICB2YXIgcHJvcHMgPSB1dGlscy5zaGFsbG93Q29weSh7fSwgdGhpcy5wcm9wcyk7XG5cdCAgICAgICAgICAgIHByb3BzW3Byb3BlcnR5TmFtZV0gPSB2YWx1ZTtcblx0ICAgICAgICAgICAgcmVhY3RFbGVtZW50ID0gY3JlYXRlKHRoaXMsIHByb3BzKTtcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICByZWdpc3RlckVsZW1lbnQoZWxlbWVudE5hbWUsIHtwcm90b3R5cGU6IGVsZW1lbnRQcm90b3R5cGV9KTtcblx0ICAgIH07XG5cdFxuXHQgICAgZnVuY3Rpb24gZXhwb3NlRGVmYXVsdE1ldGhvZHMgKHJlYWN0Q29tcG9uZW50LCBjdXN0b21FbGVtZW50KSB7XG5cdCAgICAgICAgY3VzdG9tRWxlbWVudC5mb3JjZVVwZGF0ZSA9IHJlYWN0Q29tcG9uZW50LmZvcmNlVXBkYXRlLmJpbmQocmVhY3RDb21wb25lbnQpO1xuXHQgICAgfVxuXHRcblx0ICAgIGZ1bmN0aW9uIGV4cG9zZU1ldGhvZHMgKHJlYWN0Q29tcG9uZW50LCBjdXN0b21FbGVtZW50KSB7XG5cdCAgICAgICAgdXRpbHMuZXh0ZW5kKGN1c3RvbUVsZW1lbnQsIHJlYWN0Q29tcG9uZW50KTtcblx0ICAgIH1cblx0XG5cdCAgICBleHBvcnRzLnV0aWxzID0gdXRpbHM7XG5cdFxuXHQgICAgZG9jdW1lbnQucmVnaXN0ZXJSZWFjdCA9IGV4cG9ydHMucmVnaXN0ZXJSZWFjdDtcblx0fSgpKVxuXG5cbi8qKiovIH0sXG4vKiAzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgUmVhY3QgPSB3aW5kb3cuUmVhY3QgfHwgX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBnZXRBbGxQcm9wZXJ0aWVzID0gZnVuY3Rpb24gKG9iaikge1xuXHQgICAgdmFyIHByb3BzID0ge307XG5cdCAgICB3aGlsZSAob2JqICYmIG9iaiAhPT0gUmVhY3QuQ29tcG9uZW50LnByb3RvdHlwZSAmJiBvYmogIT09IE9iamVjdC5wcm90b3R5cGUpIHtcblx0ICAgICAgICB2YXIgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMob2JqKTtcblx0ICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BOYW1lcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICBwcm9wc1twcm9wTmFtZXNbaV1dID0gbnVsbDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgb2JqID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iaik7XG5cdCAgICB9XG5cdCAgICBkZWxldGUgcHJvcHMuY29uc3RydWN0b3I7XG5cdCAgICByZXR1cm4gT2JqZWN0LmtleXMocHJvcHMpO1xuXHR9O1xuXHRcblx0ZXhwb3J0cy5leHRlbmQgPSBmdW5jdGlvbiAoZXh0ZW5zaWJsZSwgZXh0ZW5kaW5nKSB7XG5cdCAgICB2YXIgcHJvcHMgPSBnZXRBbGxQcm9wZXJ0aWVzKGV4dGVuZGluZyk7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdmFyIHByb3AgPSBwcm9wc1tpXTtcblx0ICAgICAgICBpZiAoIShwcm9wIGluIGV4dGVuc2libGUpKSB7XG5cdCAgICAgICAgICAgIHZhciB2YWwgPSBleHRlbmRpbmdbcHJvcF07XG5cdCAgICAgICAgICAgIGV4dGVuc2libGVbcHJvcF0gPSB2YWw7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHR9O1xuXHRcblx0ZXhwb3J0cy5nZXRQcm9wcyA9IGZ1bmN0aW9uIChlbCkge1xuXHQgICAgdmFyIHByb3BzID0ge307XG5cdFxuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbC5hdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdmFyIGF0dHJpYnV0ZSA9IGVsLmF0dHJpYnV0ZXNbaV07XG5cdCAgICAgICAgdmFyIG5hbWUgPSBleHBvcnRzLmF0dHJpYnV0ZU5hbWVUb1Byb3BlcnR5TmFtZShhdHRyaWJ1dGUubmFtZSk7XG5cdCAgICAgICAgcHJvcHNbbmFtZV0gPSBleHBvcnRzLnBhcnNlQXR0cmlidXRlVmFsdWUoYXR0cmlidXRlLnZhbHVlKTtcblx0ICAgIH1cblx0XG5cdCAgICBwcm9wcy5jb250YWluZXIgPSBlbDtcblx0XG5cdCAgICByZXR1cm4gcHJvcHM7XG5cdH07XG5cdFxuXHRleHBvcnRzLmdldHRlclNldHRlciA9IGZ1bmN0aW9uICh2YXJpYWJsZVBhcmVudCwgdmFyaWFibGVOYW1lLCBnZXR0ZXJGdW5jdGlvbiwgc2V0dGVyRnVuY3Rpb24pIHtcblx0ICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHtcblx0ICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodmFyaWFibGVQYXJlbnQsIHZhcmlhYmxlTmFtZSwge1xuXHQgICAgICAgICAgICBnZXQ6IGdldHRlckZ1bmN0aW9uLFxuXHQgICAgICAgICAgICBzZXQ6IHNldHRlckZ1bmN0aW9uXG5cdCAgICAgICAgfSk7XG5cdCAgICB9XG5cdCAgICBlbHNlIGlmIChkb2N1bWVudC5fX2RlZmluZUdldHRlcl9fKSB7XG5cdCAgICAgICAgdmFyaWFibGVQYXJlbnQuX19kZWZpbmVHZXR0ZXJfXyh2YXJpYWJsZU5hbWUsIGdldHRlckZ1bmN0aW9uKTtcblx0ICAgICAgICB2YXJpYWJsZVBhcmVudC5fX2RlZmluZVNldHRlcl9fKHZhcmlhYmxlTmFtZSwgc2V0dGVyRnVuY3Rpb24pO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhcmlhYmxlUGFyZW50WydnZXQnICsgdmFyaWFibGVOYW1lXSA9IGdldHRlckZ1bmN0aW9uO1xuXHQgICAgdmFyaWFibGVQYXJlbnRbJ3NldCcgKyB2YXJpYWJsZU5hbWVdID0gc2V0dGVyRnVuY3Rpb247XG5cdH07XG5cdFxuXHRleHBvcnRzLmF0dHJpYnV0ZU5hbWVUb1Byb3BlcnR5TmFtZSA9IGZ1bmN0aW9uIChhdHRyaWJ1dGVOYW1lKSB7XG5cdCAgICByZXR1cm4gYXR0cmlidXRlTmFtZVxuXHQgICAgICAgIC5yZXBsYWNlKC9eKHh8ZGF0YSlbLV86XS9pLCAnJylcblx0ICAgICAgICAucmVwbGFjZSgvWy1fOl0oLikvZywgZnVuY3Rpb24gKHgsIGNocikge1xuXHQgICAgICAgICAgICByZXR1cm4gY2hyLnRvVXBwZXJDYXNlKCk7XG5cdCAgICAgICAgfSk7XG5cdH07XG5cdFxuXHRleHBvcnRzLnBhcnNlQXR0cmlidXRlVmFsdWUgPSBmdW5jdGlvbiAodmFsdWUpIHtcblx0ICAgIGlmICghdmFsdWUpIHtcblx0ICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBTdXBwb3J0IGF0dHJpYnV0ZSB2YWx1ZXMgd2l0aCBuZXdsaW5lc1xuXHQgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC9bXFxuXFxyXS9nLCAnJyk7XG5cdFxuXHQgICAgdmFyIHBvaW50ZXJSZWdleHAgPSAvXnsuKj99JC9pLFxuXHQgICAgICAgIGpzb25SZWdleHAgPSAvXnt7Mn0uKn17Mn0kLyxcblx0ICAgICAgICBqc29uQXJyYXlSZWdleHAgPSAvXntcXFsuKlxcXX0kLztcblx0XG5cdCAgICB2YXIgcG9pbnRlck1hdGNoZXMgPSB2YWx1ZS5tYXRjaChwb2ludGVyUmVnZXhwKSxcblx0ICAgICAgICBqc29uTWF0Y2hlcyA9IHZhbHVlLm1hdGNoKGpzb25SZWdleHApIHx8IHZhbHVlLm1hdGNoKGpzb25BcnJheVJlZ2V4cCk7XG5cdFxuXHQgICAgaWYgKGpzb25NYXRjaGVzKSB7XG5cdCAgICAgICAgdmFsdWUgPSBKU09OLnBhcnNlKGpzb25NYXRjaGVzWzBdLnJlcGxhY2UoL157fH0kL2csICcnKSk7XG5cdCAgICB9IGVsc2UgaWYgKHBvaW50ZXJNYXRjaGVzKSB7XG5cdCAgICAgICAgdmFsdWUgPSBldmFsKHBvaW50ZXJNYXRjaGVzWzBdLnJlcGxhY2UoL1t7fV0vZywgJycpKTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gdmFsdWU7XG5cdH07XG5cdFxuXHRleHBvcnRzLmdldENoaWxkcmVuID0gZnVuY3Rpb24gKGVsKSB7XG5cdCAgICB2YXIgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG5cdCAgICB3aGlsZSAoZWwuY2hpbGROb2Rlcy5sZW5ndGgpIHtcblx0ICAgICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChlbC5jaGlsZE5vZGVzWzBdKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBmcmFnbWVudDtcblx0fTtcblx0XG5cdGV4cG9ydHMuc2hhbGxvd0NvcHkgPSBmdW5jdGlvbiAoYSwgYikge1xuXHQgICAgZm9yICh2YXIga2V5IGluIGIpIGFba2V5XSA9IGJba2V5XTtcblx0ICAgIHJldHVybiBhO1xuXHR9O1xuXG5cbi8qKiovIH0sXG4vKiA0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHJlYWN0LWRvbTtcblxuLyoqKi8gfVxuLyoqKioqKi8gXSk7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogcmVhY3RpdmUtZWxlbWVudHMubWluLmpzXG4gKiovIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG5cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGV4cG9ydHM6IHt9LFxuIFx0XHRcdGlkOiBtb2R1bGVJZCxcbiBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiB3ZWJwYWNrL2Jvb3RzdHJhcCA0N2E0MWVlNzIwYTQ0MjcwMjRmN1xuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9zcmMvcmVhY3RpdmUtZWxlbWVudHMnKTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gcmVhY3Q7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiBleHRlcm5hbCBcInJlYWN0XCJcbiAqKiBtb2R1bGUgaWQgPSAxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIoZnVuY3Rpb24oKSB7XG4gICAgdmFyIHJlZ2lzdGVyRWxlbWVudCA9IGRvY3VtZW50LnJlZ2lzdGVyRWxlbWVudCB8fCBkb2N1bWVudC5yZWdpc3RlcjtcblxuICAgIGlmIChyZWdpc3RlckVsZW1lbnQpIHtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50ID0gcmVnaXN0ZXJFbGVtZW50LmJpbmQoZG9jdW1lbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gY3VzdG9tIGVsZW1lbnQgc3VwcG9ydCBvciBwb2x5ZmlsbCBmb3VuZCEnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBSZWFjdCA9IHdpbmRvdy5SZWFjdCB8fCByZXF1aXJlKCdyZWFjdCcpO1xuICAgIHZhciBSZWFjdERPTSA9IHdpbmRvdy5SZWFjdERPTSB8fCByZXF1aXJlKCdyZWFjdC1kb20nKTtcbiAgICB2YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG5cbiAgICBleHBvcnRzLnJlZ2lzdGVyUmVhY3QgPSBmdW5jdGlvbiAoZWxlbWVudE5hbWUsIFJlYWN0Q29tcG9uZW50KSB7XG4gICAgICAgIHZhciBlbGVtZW50UHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShIVE1MRWxlbWVudC5wcm90b3R5cGUpO1xuICAgICAgICB2YXIgcmVhY3RFbGVtZW50O1xuXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZShwYXJlbnQsIHByb3BzKSB7XG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3RDb21wb25lbnQsIHByb3BzKTtcbiAgICAgICAgICAgIHBhcmVudC5yZWFjdGl2ZUVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICAgICAgcmV0dXJuIFJlYWN0RE9NLnJlbmRlcihlbGVtZW50LCBwYXJlbnQsIHByb3BzLm9uUmVuZGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsZW1lbnRQcm90b3R5cGUuY3JlYXRlZENhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHByb3BzID0gdXRpbHMuZ2V0UHJvcHModGhpcyk7XG4gICAgICAgICAgICBwcm9wcy5jaGlsZHJlbiA9IHV0aWxzLmdldENoaWxkcmVuKHRoaXMpO1xuICAgICAgICAgICAgcmVhY3RFbGVtZW50ID0gY3JlYXRlKHRoaXMsIHByb3BzKTtcbiAgICAgICAgICAgIGV4cG9zZU1ldGhvZHMocmVhY3RFbGVtZW50LCByZWFjdEVsZW1lbnQucHJvcHMuY29udGFpbmVyKTtcbiAgICAgICAgICAgIGV4cG9zZURlZmF1bHRNZXRob2RzKHJlYWN0RWxlbWVudCwgcmVhY3RFbGVtZW50LnByb3BzLmNvbnRhaW5lcik7XG5cbiAgICAgICAgICAgIHV0aWxzLmdldHRlclNldHRlcih0aGlzLCAncHJvcHMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlYWN0RWxlbWVudC5wcm9wcztcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICAgICAgICAgIHJlYWN0RWxlbWVudCA9IGNyZWF0ZSh0aGlzLCBwcm9wcyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICBlbGVtZW50UHJvdG90eXBlLmRldGFjaGVkQ2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBSZWFjdERPTS51bm1vdW50Q29tcG9uZW50QXROb2RlKHRoaXMpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGVsZW1lbnRQcm90b3R5cGUuYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrID0gZnVuY3Rpb24gKG5hbWUsIG9sZFZhbHVlLCBuZXdWYWx1ZSkge1xuICAgICAgICAgICAgdmFyIHByb3BlcnR5TmFtZSA9IHV0aWxzLmF0dHJpYnV0ZU5hbWVUb1Byb3BlcnR5TmFtZShuYW1lKSxcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHV0aWxzLnBhcnNlQXR0cmlidXRlVmFsdWUobmV3VmFsdWUpO1xuXG4gICAgICAgICAgICB2YXIgcHJvcHMgPSB1dGlscy5zaGFsbG93Q29weSh7fSwgdGhpcy5wcm9wcyk7XG4gICAgICAgICAgICBwcm9wc1twcm9wZXJ0eU5hbWVdID0gdmFsdWU7XG4gICAgICAgICAgICByZWFjdEVsZW1lbnQgPSBjcmVhdGUodGhpcywgcHJvcHMpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudChlbGVtZW50TmFtZSwge3Byb3RvdHlwZTogZWxlbWVudFByb3RvdHlwZX0pO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBleHBvc2VEZWZhdWx0TWV0aG9kcyAocmVhY3RDb21wb25lbnQsIGN1c3RvbUVsZW1lbnQpIHtcbiAgICAgICAgY3VzdG9tRWxlbWVudC5mb3JjZVVwZGF0ZSA9IHJlYWN0Q29tcG9uZW50LmZvcmNlVXBkYXRlLmJpbmQocmVhY3RDb21wb25lbnQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGV4cG9zZU1ldGhvZHMgKHJlYWN0Q29tcG9uZW50LCBjdXN0b21FbGVtZW50KSB7XG4gICAgICAgIHV0aWxzLmV4dGVuZChjdXN0b21FbGVtZW50LCByZWFjdENvbXBvbmVudCk7XG4gICAgfVxuXG4gICAgZXhwb3J0cy51dGlscyA9IHV0aWxzO1xuXG4gICAgZG9jdW1lbnQucmVnaXN0ZXJSZWFjdCA9IGV4cG9ydHMucmVnaXN0ZXJSZWFjdDtcbn0oKSlcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvcmVhY3RpdmUtZWxlbWVudHMuanNcbiAqKiBtb2R1bGUgaWQgPSAyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgUmVhY3QgPSB3aW5kb3cuUmVhY3QgfHwgcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIGdldEFsbFByb3BlcnRpZXMgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgdmFyIHByb3BzID0ge307XG4gICAgd2hpbGUgKG9iaiAmJiBvYmogIT09IFJlYWN0LkNvbXBvbmVudC5wcm90b3R5cGUgJiYgb2JqICE9PSBPYmplY3QucHJvdG90eXBlKSB7XG4gICAgICAgIHZhciBwcm9wTmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvYmopO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BOYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcHJvcHNbcHJvcE5hbWVzW2ldXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgb2JqID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iaik7XG4gICAgfVxuICAgIGRlbGV0ZSBwcm9wcy5jb25zdHJ1Y3RvcjtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMocHJvcHMpO1xufTtcblxuZXhwb3J0cy5leHRlbmQgPSBmdW5jdGlvbiAoZXh0ZW5zaWJsZSwgZXh0ZW5kaW5nKSB7XG4gICAgdmFyIHByb3BzID0gZ2V0QWxsUHJvcGVydGllcyhleHRlbmRpbmcpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHByb3AgPSBwcm9wc1tpXTtcbiAgICAgICAgaWYgKCEocHJvcCBpbiBleHRlbnNpYmxlKSkge1xuICAgICAgICAgICAgdmFyIHZhbCA9IGV4dGVuZGluZ1twcm9wXTtcbiAgICAgICAgICAgIGV4dGVuc2libGVbcHJvcF0gPSB2YWw7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5leHBvcnRzLmdldFByb3BzID0gZnVuY3Rpb24gKGVsKSB7XG4gICAgdmFyIHByb3BzID0ge307XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsLmF0dHJpYnV0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGF0dHJpYnV0ZSA9IGVsLmF0dHJpYnV0ZXNbaV07XG4gICAgICAgIHZhciBuYW1lID0gZXhwb3J0cy5hdHRyaWJ1dGVOYW1lVG9Qcm9wZXJ0eU5hbWUoYXR0cmlidXRlLm5hbWUpO1xuICAgICAgICBwcm9wc1tuYW1lXSA9IGV4cG9ydHMucGFyc2VBdHRyaWJ1dGVWYWx1ZShhdHRyaWJ1dGUudmFsdWUpO1xuICAgIH1cblxuICAgIHByb3BzLmNvbnRhaW5lciA9IGVsO1xuXG4gICAgcmV0dXJuIHByb3BzO1xufTtcblxuZXhwb3J0cy5nZXR0ZXJTZXR0ZXIgPSBmdW5jdGlvbiAodmFyaWFibGVQYXJlbnQsIHZhcmlhYmxlTmFtZSwgZ2V0dGVyRnVuY3Rpb24sIHNldHRlckZ1bmN0aW9uKSB7XG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodmFyaWFibGVQYXJlbnQsIHZhcmlhYmxlTmFtZSwge1xuICAgICAgICAgICAgZ2V0OiBnZXR0ZXJGdW5jdGlvbixcbiAgICAgICAgICAgIHNldDogc2V0dGVyRnVuY3Rpb25cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGRvY3VtZW50Ll9fZGVmaW5lR2V0dGVyX18pIHtcbiAgICAgICAgdmFyaWFibGVQYXJlbnQuX19kZWZpbmVHZXR0ZXJfXyh2YXJpYWJsZU5hbWUsIGdldHRlckZ1bmN0aW9uKTtcbiAgICAgICAgdmFyaWFibGVQYXJlbnQuX19kZWZpbmVTZXR0ZXJfXyh2YXJpYWJsZU5hbWUsIHNldHRlckZ1bmN0aW9uKTtcbiAgICB9XG5cbiAgICB2YXJpYWJsZVBhcmVudFsnZ2V0JyArIHZhcmlhYmxlTmFtZV0gPSBnZXR0ZXJGdW5jdGlvbjtcbiAgICB2YXJpYWJsZVBhcmVudFsnc2V0JyArIHZhcmlhYmxlTmFtZV0gPSBzZXR0ZXJGdW5jdGlvbjtcbn07XG5cbmV4cG9ydHMuYXR0cmlidXRlTmFtZVRvUHJvcGVydHlOYW1lID0gZnVuY3Rpb24gKGF0dHJpYnV0ZU5hbWUpIHtcbiAgICByZXR1cm4gYXR0cmlidXRlTmFtZVxuICAgICAgICAucmVwbGFjZSgvXih4fGRhdGEpWy1fOl0vaSwgJycpXG4gICAgICAgIC5yZXBsYWNlKC9bLV86XSguKS9nLCBmdW5jdGlvbiAoeCwgY2hyKSB7XG4gICAgICAgICAgICByZXR1cm4gY2hyLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIH0pO1xufTtcblxuZXhwb3J0cy5wYXJzZUF0dHJpYnV0ZVZhbHVlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBTdXBwb3J0IGF0dHJpYnV0ZSB2YWx1ZXMgd2l0aCBuZXdsaW5lc1xuICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvW1xcblxccl0vZywgJycpO1xuXG4gICAgdmFyIHBvaW50ZXJSZWdleHAgPSAvXnsuKj99JC9pLFxuICAgICAgICBqc29uUmVnZXhwID0gL157ezJ9Lip9ezJ9JC8sXG4gICAgICAgIGpzb25BcnJheVJlZ2V4cCA9IC9ee1xcWy4qXFxdfSQvO1xuXG4gICAgdmFyIHBvaW50ZXJNYXRjaGVzID0gdmFsdWUubWF0Y2gocG9pbnRlclJlZ2V4cCksXG4gICAgICAgIGpzb25NYXRjaGVzID0gdmFsdWUubWF0Y2goanNvblJlZ2V4cCkgfHwgdmFsdWUubWF0Y2goanNvbkFycmF5UmVnZXhwKTtcblxuICAgIGlmIChqc29uTWF0Y2hlcykge1xuICAgICAgICB2YWx1ZSA9IEpTT04ucGFyc2UoanNvbk1hdGNoZXNbMF0ucmVwbGFjZSgvXnt8fSQvZywgJycpKTtcbiAgICB9IGVsc2UgaWYgKHBvaW50ZXJNYXRjaGVzKSB7XG4gICAgICAgIHZhbHVlID0gZXZhbChwb2ludGVyTWF0Y2hlc1swXS5yZXBsYWNlKC9be31dL2csICcnKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlO1xufTtcblxuZXhwb3J0cy5nZXRDaGlsZHJlbiA9IGZ1bmN0aW9uIChlbCkge1xuICAgIHZhciBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgICB3aGlsZSAoZWwuY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQoZWwuY2hpbGROb2Rlc1swXSk7XG4gICAgfVxuICAgIHJldHVybiBmcmFnbWVudDtcbn07XG5cbmV4cG9ydHMuc2hhbGxvd0NvcHkgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgIGZvciAodmFyIGtleSBpbiBiKSBhW2tleV0gPSBiW2tleV07XG4gICAgcmV0dXJuIGE7XG59O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL3NyYy91dGlscy5qc1xuICoqIG1vZHVsZSBpZCA9IDNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gcmVhY3QtZG9tO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogZXh0ZXJuYWwgXCJyZWFjdC1kb21cIlxuICoqIG1vZHVsZSBpZCA9IDRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=